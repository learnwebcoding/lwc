<!DOCTYPE html>
<html lang="en">
 <head>
  <title>Module Web Browser Support Test</title>
  <meta charset="UTF-8" />
  <meta name="Author" content="Steve Taylor" />
  <meta name="Keywords" content="JavaScript, module, web browser support, test" />
  <meta name="Description" content="A JavaScript that tests and reports if the web browser supports JavaScript modules." />
  <script></script>
 </head>
 <body>

  <h1>Module Web Browser Support Test</h1>

<!-- ED, CH, and OP, not FF, support requires web page served by web server (ie, fails if web page opened directly in web browser). -->
<!-- FF support requires setting FF about:config | dom.moduleScripts.enabled to true. FF53- does not have about:config | dom.moduleScripts.enabled. -->
<!-- Per LWC web browser support testing, getPrototypeOf() method supported by IE9+, ED12+, FF3.5+, SF5+, CH5+, OP11.60+ and module supported by ED16+, FF54+, CH61+, OP48+, no IE11-, SF5.1.7-. Therefore, in web browser support test below, getPrototypeOf() method does not skew test result. -->

<p id='testId'><b>Fail</b> (no support): The web browser does not recognize JavaScript modules. The web browser does not support JavaScript modules.</p><!-- Hard code Fail because web browser no support error stops JavaScript execution. -->

<script type="module"> // HTML document embedded JavaScript module. Capability test eight: DOM manipulation. For DOM manipulation, no exporting/importing of DOM manipulating code, and no special DOM manipulating code, required. Instead, load module with imports and regular DOM manipulating code into HTML document either: 1.) explicitly via script element with type="module" attribute, as in this example; 2.) explicitly via script element with type="module" and src="path_to_external_javascript_module.js" attributes; or 3.) implicitly via import {foo} from "path_to_external_javascript_module.js"; statement.
import {passImplementationTest, passCapabilityTest} from "./module_external_main.js";
if (passImplementationTest){
 var element = document.getElementById("testId");
 if (passCapabilityTest){
  element.innerHTML = "<b>Pass</b> (at least partial/possibly full support): The web browser recognizes JavaScript modules, and supports at least one module capability. The web browser at least partially/possibly fully supports JavaScript modules. Positive determination of full web browser support is beyond the scope of this test.";
 } else {
  element.innerHTML = "<b>Pass/Fail</b> (partial support): The web browser recognizes JavaScript modules, but does not support at least one module capability. The web browser partially supports JavaScript modules.";
 }
}
</script>

 </body>
</html>